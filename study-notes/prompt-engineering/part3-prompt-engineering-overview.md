# Part 3. 프롬프트 엔지니어링 개요

## Chapter 1. 프롬프트 엔지니어링이란?

- 프롬프트 엔지니어링 : 컴퓨터와 대화하는 방법이자 컴퓨터에게 업무를 시키는 새로운 방식의 코딩
- 컴퓨터에게 정확하게 얘기해주는 것 == 코딩 == 프롬프트 엔지니어링

#### 프롬프트 엔지니어링 방식

1. Frame 잡기
2. Subject 잡기
3. Style 잡기

단계별로 차근 차근 완성해 나가게 됨

#### LLM Prompt Engineering

- Zero-shot : 어떤 정보 없이 명령
- One-shot learning : 하나의 예를 주고 명령
- Few-shot learning : 여러 예를 주고 명령
- Chain of Thought : llm에게 문제를 풀 방식(또는 단계)를 설명하는 방법
- Zero Shot Chain of Thought : 실제시문제를 풀 방식(또는 단계계를 주는 것이 아닌 "A: Let's think step by step."라고 끝내서 단계별로 알아서 생각하게 만드는 방법
- 이 외에도 많은 방법들도 많이 나오고 있음

> 우리는 주요 내용들만 볼 예정임

#### learning vs training

- training : 오랜 시간에 걸쳐 공부하는 것
- learning : 잠깐 배워야할 일부 정보를 주는 것

#### 프롬프트의 주요 3가지 구성

1. 답변을 위해 필요한 적절한 컨텍스트 제공
2. 원하는 결과를 추출을 위한 프롬프트 작성
3. 원하는 포맷의 출력을 위한 프롬프트 작성

> 위 세가지 구성을 조합하거나 해서 프롬프트를 만드는게 프롬프트 엔지니어링임

#### 중요

- 프롬프트 엔지니어링은 실험적 방법론에 기반하여, 한 번 그럴듯한 결과를 내는 것이 아닌, 원하는 결과를 정확히 의도한대로 일관성 있게 내도록 만드는 것임

## Chapter 2. 프롬프트 엔지니어링 One Point Lesson

- 프롬프트에서 생성한 결과물 == 잠꼬대에 가까움(희미한 기억에서 말을 꺼내오는 것과 같음)
- 중요한 것은 생성된 결과물이 아닌 인간의 언어나 이미지로 된 컨텍스트를 llm에게 함께 넘겨줘서 정보를 생성하고, 또 이 새로운 정보가 컨텍스트에 들어가는 전체 플로우가 중요함
- 생성된 결과물이 아닌 어떤 정보를 이용하고 어떻게 조합할지가 응용의 핵심임
- 중요 : 앞에 컨텍스트를 어떻게 잘 주느냐, 그걸 어떻게 잘 이해시키느냐가 LLM 어플리케이션을 만드는데 있어서 가장 큰 핵심임
  - 사용자가 원하는 내용을 정확히 찾아서, 사용자가 요청한 내용을 합쳐서, 사용자가 원하는 정확한 정보를 제공하는 것
- 초개인화된 애플리케이션의 구현도 가능

#### In-Context Learning

- 답변을 위해 필요한 적절한 컨텍스트를 제공하는 것

## Chapter 3. 검색엔진의 진화 Vector Search

#### Embedding

- 텍스트를 임베딩모델을 통해 벡터(숫자들이 모음)으로 바꾸는 것
- 임베딩모델도 llm으로 되어있음.
- 임베딩벡터의 의미 : 여러 차원에 걸쳐서 있는 단어들이 어디에 위치하고 있는가 얘기해 주는 것임
  - 예를 들어 2차원 벡터라고 하면 2차원 공간에 각 토큰의 위치를 나타내는 것임
  - 유사한 의미를 가진 단어는 공간상에서 거리가 가까움
  - 오픈 AI에서는 1000차원이 넘어가는 임베딩벡터를 사용함

#### 벡터 서치

- 벡터 서치 : 임베딩 공간에서 유사한 것을 찾는 것
- 기존의 자연어 처리에 필요한 형태소 분석, 유사어/다국어처리 등이 필요없어짐
- 예전에도 있던 개념이긴 했으나, 대규모 모델의 발전으로 performance가 올라가게 됨
- 이게 만능은 아님 : 벡터의 차원이 높아지면 거리를 비교하는 것이 속도문제가 있음
- 하이브리드 서치 : 속도를 높이기 위해 키워드 검색을 통해 후보데이터를 가지고 온후, Vector search를 적용하는 방법등을 적용

#### 프롬프트 엔지니어링 중 답변을 위해 필요한 적절한 컨텍스트 제공이 중요함

- 적절한 컨텍스트를 제공해주는 부분이 프롬프트 엔지니어링의 많은 부분을 차지함
- 그래서 이 벡터 DB를 만드는 회사들이 굉장히 많은 투자를 받고 있음

> 이건 그럼 서비스 쪽에서 제공하는 것인가?
